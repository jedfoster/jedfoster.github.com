(function(c){function f(b,a){this.element=b;this.options=c.extend({},g,a);this._defaults=g;this._name=e;this.init()}var e="readmore",g={speed:100,maxHeight:200,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>'};f.prototype={init:function(){var b=this;c(this.element).each(function(){var a=c(this),d=a.css("max-height").replace(/[^-\d\.]/g,"")>b.options.maxHeight?a.css("max-height").replace(/[^-\d\.]/g,""):b.options.maxHeight;"none"!=a.css("max-height")&&a.css("max-height","none");
a.data("boxHeight",a.height());if(a.innerHeight()<d)return!0;a.after(c(b.options.moreLink).on("click",function(){b.openSlider(this,a)}));sliderHeight=d;a.css("height",sliderHeight).css("overflow","hidden")})},openSlider:function(b,a){event.preventDefault();var d=this,e=c(a).data().boxHeight+"px";c(a).animate({height:e},{duration:d.options.speed});c(b).replaceWith(c(d.options.lessLink).on("click",function(){d.closeSlider(this,a)}))},closeSlider:function(b,a){event.preventDefault();var d=this;c(a).animate({height:sliderHeight},
{duration:d.options.speed});c(b).replaceWith(c(d.options.moreLink).on("click",function(){d.openSlider(this,a)}))}};c.fn[e]=function(b){var a=arguments;if(void 0===b||"object"===typeof b)return this.each(function(){c.data(this,"plugin_"+e)||c.data(this,"plugin_"+e,new f(this,b))});if("string"===typeof b&&"_"!==b[0]&&"init"!==b)return this.each(function(){var d=c.data(this,"plugin_"+e);d instanceof f&&"function"===typeof d[b]&&d[b].apply(d,Array.prototype.slice.call(a,1))})}})(jQuery);
